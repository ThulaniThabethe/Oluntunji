@model WebApplication1.Models.Order

@{
    ViewBag.Title = "Order Confirmation";
}

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="alert alert-success" style="margin-top: 20px;">
                <h2><i class="glyphicon glyphicon-ok-circle"></i> Order Confirmed!</h2>
                <p>Thank you for your order. Your order number is <strong>@Model.OrderNumber</strong>.</p>
                <p>You will receive a confirmation email shortly.</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Order Details</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Order Information</h4>
                            <table class="table table-condensed">
                                <tr>
                                    <td><strong>Order Number:</strong></td>
                                    <td>@Model.OrderNumber</td>
                                </tr>
                                <tr>
                                    <td><strong>Order Date:</strong></td>
                                    <td>@Model.OrderDate.ToString("yyyy-MM-dd HH:mm")</td>
                                </tr>
                                <tr>
                                    <td><strong>Order Status:</strong></td>
                                    <td>
                                        <span class="label label-info">@Model.OrderStatus</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Payment Status:</strong></td>
                                    <td>
                                        <span class="label label-warning">@Model.PaymentStatus</span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h4>Shipping Information</h4>
                            <table class="table table-condensed">
                                <tr>
                                    <td><strong>Address:</strong></td>
                                    <td>@Model.ShippingAddress</td>
                                </tr>
                                <tr>
                                    <td><strong>City:</strong></td>
                                    <td>@Model.ShippingCity</td>
                                </tr>
                                <tr>
                                    <td><strong>Province:</strong></td>
                                    <td>@Model.ShippingProvince</td>
                                </tr>
                                <tr>
                                    <td><strong>Postal Code:</strong></td>
                                    <td>@Model.ShippingPostalCode</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <hr />

                    <h4>Order Items</h4>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Book</th>
                                <th>Quantity</th>
                                <th>Unit Price</th>
                                <th>Subtotal</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.OrderItems)
                            {
                                <tr>
                                    <td>@item.Book.Title</td>
                                    <td>@item.Quantity</td>
                                    <td>@item.UnitPrice.ToString("C")</td>
                                    <td>@item.Subtotal.ToString("C")</td>
                                </tr>
                            }
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3" class="text-right"><strong>Total:</strong></td>
                                <td><strong>@Model.TotalAmount.ToString("C")</strong></td>
                            </tr>
                        </tfoot>
                    </table>

                    @if (!string.IsNullOrEmpty(Model.Notes))
                    {
                        <div class="well">
                            <h4>Order Notes</h4>
                            <p>@Model.Notes</p>
                        </div>
                    }
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Next Steps</h3>
                </div>
                <div class="panel-body">
                    <p>Your order has been received and will be processed shortly.</p>
                    
                    @if (Model.PaymentStatus == "Pending")
                    {
                        <div class="alert alert-warning">
                            <strong>Payment Required:</strong> Please complete your payment to proceed with your order.
                        </div>
                    }

                    <div class="btn-group-vertical btn-block" role="group">
                        <a href="@Url.Action("Index", "Orders")" class="btn btn-primary">
                            <i class="glyphicon glyphicon-list"></i> View My Orders
                        </a>
                        <a href="@Url.Action("Index", "Home")" class="btn btn-default">
                            <i class="glyphicon glyphicon-home"></i> Continue Shopping
                        </a>
                    </div>
                </div>
            </div>

            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Need Help?</h3>
                </div>
                <div class="panel-body">
                    <p>If you have any questions about your order, please contact us:</p>
                    <ul>
                        <li>Email: support@bookstore.co.za</li>
                        <li>Phone: 0800-BOOKS-01</li>
                    </ul>
                    <p>Quote your order number: <strong>@Model.OrderNumber</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .label {
        display: inline-block;
        padding: 0.25em 0.4em;
        font-size: 75%;
        font-weight: 700;
        line-height: 1;
        text-align: center;
        white-space: nowrap;
        vertical-align: baseline;
        border-radius: 0.25rem;
    }
    .label-info {
        background-color: #5bc0de;
        color: #fff;
    }
    .label-warning {
        background-color: #f0ad4e;
        color: #fff;
    }
</style>